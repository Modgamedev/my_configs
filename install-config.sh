#!/usr/bin/env bash
set -e  # –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ

# –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è, –≥–¥–µ –ª–µ–∂–∏—Ç —Å–∫—Ä–∏–ø—Ç (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —É–∂–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω)
SRC_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
CONFIG_DIR="$HOME/.config"

echo "=== –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏–∑ $SRC_DIR ==="

echo "=== –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ bash-—Ñ–∞–π–ª–æ–≤ ==="
cp -f "$SRC_DIR/.bashrc" "$HOME/.bashrc"
cp -f "$SRC_DIR/.bash_profile" "$HOME/.bash_profile"
cp -f "$SRC_DIR/.dircolors" "$HOME/.dircolors"

echo "=== –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤ lsd ==="
mkdir -p "$CONFIG_DIR/lsd"
cp -rf "$SRC_DIR/lsd/"* "$CONFIG_DIR/lsd/"

echo "‚úÖ –ö–æ–Ω—Ñ–∏–≥–∏ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!"

# –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —É–¥–æ–±–Ω–æ ‚Äî —É–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É, –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω –∏–∑ –Ω–µ—ë
if [[ "$SRC_DIR" == "$HOME/temp-config" ]]; then
  echo "=== –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ==="
  cd "$HOME"
  rm -rf "$SRC_DIR"
  echo "üßπ –ü–∞–ø–∫–∞ temp-config —É–¥–∞–ª–µ–Ω–∞"
fi
